# 🚨 重大な問題：大量の教師重複違反

## 問題の概要
2025-06-22時点の時間割に72件もの教師重複違反が存在し、物理的に実現不可能な時間割となっている。

## 具体例

### 月曜1限の違反
| 教師 | 担当クラス | 科目 | 問題 |
|------|------------|------|------|
| 井野口先生 | 1-1, 1-2, 1-3 | 英語 | 3クラス同時は不可能 |
| 井上先生 | 2-1, 2-2, 2-3 | 数学 | 3クラス同時は不可能 |
| 小野塚先生 | 3-1, 3-2, 3-3 | 国語 | 3クラス同時は不可能 |

### 月曜2限の違反
| 教師 | 担当クラス | 科目 | 問題 |
|------|------------|------|------|
| 金子み先生 | 2-1, 2-2, 2-3, 2-6, 2-7 | 技家 | 5クラス同時は不可能 |
| 塚本先生 | 3-1, 3-2, 3-3 | 音楽 | 3クラス同時は不可能 |

## 根本原因

1. **時間割生成アルゴリズムの重大な欠陥**
   - 教師重複制約が生成時に無視されている
   - 同じ学年の全クラスに同じ教師を機械的に配置

2. **制約チェックの不備**
   - TeacherConflictConstraintが存在するが、生成時に適用されていない
   - 基本的な物理的制約（1教師1時間1クラス）が守られていない

## 影響範囲
- 全学年、全曜日、全時限に渡って違反が発生
- 特に月曜、火曜、水曜の1-3限に集中
- 現在の時間割は実施不可能

## 必要な対応

### 即時対応
1. 時間割生成アルゴリズムの根本的な修正
2. 教師重複制約の厳格な適用
3. 生成前の制約チェック強化

### システム改善
1. 教師配置の分散化（同じ時間に同じ教師を複数クラスに配置しない）
2. 制約違反の事前検出機能
3. 教師の週間スケジュール管理機能の実装

## 重要度
**最重要・緊急** - 現在の時間割は物理的に実現不可能であり、システムの信頼性に関わる重大な問題。